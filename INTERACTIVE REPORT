
REPORT ZDK_INTERACTIVE1.

TABLES:MARA.

TYPES : BEGIN OF TS_MARA,
        MATNR TYPE MARA-MATNR,
        MTART TYPE MARA-MTART,
        MBRSH TYPE MARA-MBRSH,
        MATKL TYPE MARA-MATKL,
      END OF TS_MARA.

 TYPES: BEGIN OF TS_MAKT,
         MATNR TYPE MAKT-MATNR,
         MAKTX TYPE MAKT-MAKTX,
       END OF TS_MAKT.


  DATA: IT_MARA TYPE TABLE OF TS_MARA,
        WA_MARA TYPE TS_MARA,
        IT_MAKT TYPE TABLE OF TS_MAKT,
        WA_MAKT TYPE TS_MAKT.

  SELECTION-SCREEN BEGIN OF BLOCK b1 WITH  FRAME TITLE text-001.

        PARAMETERS : P_MATNR TYPE mara-MATNR .

        SELECTION-SCREEN END OF BLOCK b1  .

  TOP-OF-PAGE.
   WRITE: 'THIS IS TOP PAGE EVENT CALLED'.
 ULINE.
 TOP-OF-PAGE DURING LINE-SELECTION.
   WRITE: 'THIS IS TOP PAGE DURING LINE SELCTION EVENT CALLED'.
 ULINE.


  START-OF-SELECTION.
      SELECT
        MATNR
        MTART
        MBRSH
        MATKL
        FROM MARA INTO TABLE IT_MARA
        WHERE MATNR = P_MATNR.

        LOOP AT IT_MARA INTO WA_MARA.
          WRITE: WA_MARA-MATNR,
                 60 WA_MARA-MTART,
                 90 WA_MARA-MBRSH,
                 120 WA_MARA-MATKL.
             HIDE WA_MARA-MATNR.
        ENDLOOP.

        AT LINE-SELECTION.
          CASE SY-LSIND.
            WHEN 1.
              SELECT
                MATNR
                MAKTX
                FROM MAKT INTO TABLE IT_MAKT
                WHERE MATNR = WA_MARA-MATNR.

        LOOP AT IT_MAKT INTO WA_MAKT.
          WRITE: WA_MAKT-MATNR,
                30 WA_MAKT-MAKTX.
        ENDLOOP.
       ENDCASE.
